<!DOCTYPE html>
<html>
<head>
  <title>Add Persons-sample</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
  
  <style>
    
    /* CSS styles*/
    body {
      font-family: 'Times New Roman', Times, serif;
      margin: 20px;
      color: rgb(5, 1, 8)
    }
    
    h1 {
      text-align: center;
    }
    
    form {
      margin-bottom: 20px;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
    }
    
    th, td {
      padding: 8px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    
    .error {
      color: red;
      font-size: 12px;
    }
  </style>
</head>

<body>

  <h1 style="color: rgb(5, 5, 5);">ADD PERSON DETAILS</h1>
  
  <div id="persons-list"
  background-color:green;
  color: pink>
    <table id="persons-table">
      <tr>
        <th><h4>First Name</h4></th>
        <th><h4>Last Name</h4></th>
        <th><h4>Date of Birth</h4></th>
        <th><h4>Email</h4></th>
        <th><h4>Mobile Number</h4></th>
        <th><h4>City</h4></th>
        <th><h4>Pincode/Zipcode</h4></th>
      </tr>
    </table>
  </div>

  <h2 style="color: rgb(10, 10, 10);",center>Enter the person details in the below form:</h2>
  
  <form id="person-form">
    <label for="firstName"><h2>First Name:</h2></label>
    <input type="text" id="firstName" required>
    <span id="firstNameError" class="error"></span><br>
    
    <label for="lastName"><h2>Last Name:</h2></label>
    <input type="text" id="lastName" required>
    <span id="lastNameError" class="error"></span><br>
    
    <label for="dob"><h2>Date of Birth:</h2></label>
    <input type="date" id="dob" required>
    <span id="dobError" class="error"></span><br>
    
    <label for="email"><h2>Email:</h2></label>
    <input type="email" id="email" required>
    <span id="emailError" class="error"></span><br>
    
    <label for="mobile"><h2>Mobile Number:</h2></label>
    <input type="tel" id="mobile" required>
    <span id="mobileError" class="error"></span><br>
    
    <label for="city"><h2>City:</h2></label>
    <input type="text" id="city" required>
    <span id="cityError" class="error"></span><br>
    
    <label for="pincode"><h2>Pincode/Zipcode:</h2></label>
    <input type="text" id="pincode" required>
    <span id="pincodeError" class="error"></span><br><br>

    <button class="my-button">Click me to ADD details</button>

    
  </form>

  <script>
    //JAVA-Script for validation
    // Function to validate email format
    function validateEmail(email) {
      const emailRegex = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
      return emailRegex.test(email);
    }
    
    // Function to validate mobile number format
    function validateMobile(mobile) {
      const mobileRegex = /^\d{10}$/;
      return mobileRegex.test(mobile);
    }
    
    // Function to validate date of birth (above 18 years)
    function validateDOB(dob) {
      const today = new Date();
      const birthDate = new Date(dob);
      const age = today.getFullYear() - birthDate.getFullYear();
      const monthDiff = today.getMonth() - birthDate.getMonth();
      
      if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
        age--;
      }
      
      return age >= 18;
    }
    
    // Function to handle form submission
    function handleFormSubmit(event) {
      event.preventDefault();
      
      // Clear previous errors
      clearErrors();
      
      // Get form values
      const firstName = document.getElementById("firstName").value.trim();
      const lastName = document.getElementById("lastName").value.trim();
      const dob = document.getElementById("dob").value;
      const email = document.getElementById("email").value.trim();
      const mobile = document.getElementById("mobile").value.trim();
      const city = document.getElementById("city").value.trim();
      const pincode = document.getElementById("pincode").value.trim();
      
      // Validate form inputs
      let isValid = true;
      
      if (firstName === "") {
        document.getElementById("firstNameError").textContent = "Please enter the first name.";
        isValid = false;
      }
      
      if (lastName === "") {
        document.getElementById("lastNameError").textContent = "Please enter the last name.";
        isValid = false;
      }
      
      if (!validateDOB(dob)) {
        document.getElementById("dobError").textContent = "Age should be above 18.";
        isValid = false;
      }
      
      if (!validateEmail(email)) {
        document.getElementById("emailError").textContent = "Please enter a valid email.";
        isValid = false;
      }
      
      if (!validateMobile(mobile)) {
        document.getElementById("mobileError").textContent = "Please enter a valid 10-digit mobile number.";
        isValid = false;
      }
      
      if (city === "") {
        document.getElementById("cityError").textContent = "Please enter the city.";
        isValid = false;
      }
      
      if (pincode === "") {
        document.getElementById("pincodeError").textContent = "Please enter the pincode/zipcode.";
        isValid = false;
      }
      
      if (!isValid) {
        return;
      }
      
      // Create a new row for the person
      const table = document.getElementById("persons-table");
      const newRow = table.insertRow();
      
      const cell1 = newRow.insertCell();
      cell1.textContent = firstName;
      
      const cell2 = newRow.insertCell();
      cell2.textContent = lastName;
      
      const cell3 = newRow.insertCell();
      cell3.textContent = dob;
      
      const cell4 = newRow.insertCell();
      cell4.textContent = email;
      
      const cell5 = newRow.insertCell();
      cell5.textContent = mobile;
      
      const cell6 = newRow.insertCell();
      cell6.textContent = city;
      
      const cell7 = newRow.insertCell();
      cell7.textContent = pincode;
      
      // Clear form inputs
      document.getElementById("person-form").reset();
    }
    
    // Function to clear error messages
    function clearErrors() {
      const errorElements = document.getElementsByClassName("error");
      
      Array.from(errorElements).forEach((element) => {
        element.textContent = "";
      });
    }
    
    // Add event listener for form submission
    document.getElementById("person-form").addEventListener("submit", handleFormSubmit);
  </script>
</body>
</html>
